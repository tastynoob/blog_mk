---
title: 2点声源定位算法推导
tag: 声学
categories: 算法
mathjax: true
cover: /images/lsp/9.jpg
---

2点声源定位算法推导

<!--more-->


现有2个麦克风,设为A,B点

A,B点相距为 $d$

并且有一平行声波与AB中垂线以 $\theta$ 角射入(左为正,右为负)

如图(略微简陋)

![0.png](https://s2.loli.net/2022/04/06/3dV1yQAUBOc9jq2.png)

由于声波到达AB两点的时间不同,因此AB两点接收到的声波存在时间差

差值为$\frac{d\sin{\theta}}{v}$,$v$ 为声速,这里取340m/s

由于AB两点接收到的信号存在时间差,那么AB两点接收到的信号一定存在相位差

相位差也可计算出为$2\pi f_0\frac{d\sin{\theta}}{v}$,其中$f_0$为原始信号频率

现在我们用复信号函数来表示外部的声波信号 $S(t)$

(得到复信号的方法:获取实信号采样值->傅里叶变换到频域->舍去负频谱->反傅里叶变换)

我们以麦克风A作为参考点

假设麦克风A处的信号就为$S(t)$(不是采样信号)

这里表示为$S_A(t)$

那么B处的信号应该为$s(t+\triangle{t})$,其中$\triangle{t}$为B点相对于A点接收到的信号时间差,叫做时移

表示为$S_B(t)$

但是在离散域不好用时间来表示信号的时移

因此我们使用欧拉公式来代表时移,则

$S_B(t) = S(t)*e^{-jw\triangle{t}}$(注意这里均为复信号)

代表在复信号域,时移为$\triangle{t}$

在实际当中,麦克风往往都存在噪声


因此这里引入噪声信号$N(t)$

那么A,B采样得到的信号就可以表示出来了,设采样信号为$W(t)$,则

$W_A(t) = S_A(t) + N(t) = S(t) + N(t)$
$W_B(t) = S_B(t) + N(t) = e^{-jw\triangle{t}}S(t) + N(t)$
设$e^{-jw\triangle{t}}=a$,则
$W_B(t) = aS(t) + N(t)$

--------------

现在就开始正式介绍如何进行声源定位了

首先要介绍一下如何判断AB两点的相位差

最简单的方法就是暴力穷举,由于AB两点的声源定位只有-90~90度

因此我们可以将B点移相(-90~90)度,然后计算AB信号的相似度

只要在某个相位差内计算得到的相似度最大

那么就能计算出声源角度

在离散时域上计算相似度由以下公式得到

$R_{y_1y_2}(t) = \sum_{n=-\infty}^{+\infty}y_1(n)y_2(n+t)$

表示在时移为$t$时$y_1y_2$的信号相似度   
























